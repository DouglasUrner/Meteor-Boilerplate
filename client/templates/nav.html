<template name='nav'>
  <nav id='main-navbar' class='navbar navbar-default navbar-fixed-top'>
    <div class='container-fluid'>
      <div class='navbar-header'>

        {{> navbarToggleButton target='#nb-collapse-1'}}
        <a class='navbar-brand' href='/'>Brand</a>

      </div>

      <div class='collapse navbar-collapse' id='nb-collapse-1'>

        <ul class='nav navbar-nav'>
          <li class='active'><a href='#'>
            Link <span class='sr-only'>(current)</span></a></li>
          <li><a href='#'>Link</a></li>
        </ul>

        <ul class='nav navbar-nav navbar-right'>
          {{> navbarLoginButtons}}
          {{> serverStatus}}
        </ul>

      </div> <!-- .navbar-collapse -->
    </div> <!-- .container-fluid -->
  </nav>
</template>

<template name='navbarPadding'>
  <script>
    /*
     * Calculate the padding required by .main-navbar – otherwise a navbar
     * with a class of navbar-fixed-top will overlap the content.
     *
     * XXX For some reason the window load function is called before the height
     * of the navbar is available (at least some of the time) so a default value
     * (50px) is provided to prevent the overlap.
     */
    $(window).resize(function () {
      $('body').css('padding-top', parseInt($('#main-navbar').css('height')));
    });

    $(window).load(function () {
      if (typeof $('#main-navbar').css('height') === 'undefined') {
        padding = '50px';
      } else {
        padding = $('#main-navbar').css('height') + 'px';
      }
      $('body').css('padding-top', padding);
    });
  </script>
</template>

<template name='navbarToggleButton'>
  <button type='button' class='navbar-toggle collapsed'
    data-toggle='collapse' data-target={{target}}>

    <span class='sr-only'>Toggle navigation</span>
    <span class='icon-bar'></span>
    <span class='icon-bar'></span>
    <span class='icon-bar'></span>
  </button>
</template>

<template name='navbarLoginButtons'>
  <div class='nav navbar-nav navbar-right'>
    {{> loginButtons}}
  </div>
</template>

<template name='navbarSearch'>
  <form class='navbar-form navbar-left' role='search'>
    <div class='form-group'>
      <input type='text' class='form-control' placeholder='Search'>
    </div>
    <button type='submit' class='btn btn-default'>Submit</button>
  </form>
</template>

<template name='navbarDropdown'>
  <li class='dropdown'>
    <a href='#'
      class='dropdown-toggle' data-toggle='dropdown' role='button'
      aria-expanded='false'>

      Dropdown <span class='caret'></span>
    </a>
    <ul class='dropdown-menu' role='menu'>
      <li><a href='#'>Action</a></li>
      <li><a href='#'>Another action</a></li>
      <li><a href='#'>Something else here</a></li>
      <li class='divider'></li>
      <li><a href='#'>Separated link</a></li>
    </ul>
  </li>
</template>
